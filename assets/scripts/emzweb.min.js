!function(){function ajaxFunction(url,data){var ajaxRequest,string=JSON.stringify(data);try{ajaxRequest=new XMLHttpRequest}catch(e){try{ajaxRequest=new ActiveXObject("Msxml2.XMLHTTP")}catch(e1){try{ajaxRequest=new ActiveXObject("Microsoft.XMLHTTP")}catch(e2){return!1}}}ajaxRequest.open("POST",url,!0),ajaxRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded"),ajaxRequest.onreadystatechange=function(){return 4==ajaxRequest.readyState?!0:void 0},ajaxRequest.send("data="+string)}function hasClass(ele,cls){return ele.className.match(new RegExp("(\\s|^)"+cls+"(\\s|$)"))}function addClass(ele,cls){hasClass(ele,cls)||(ele.className+=" "+cls)}function removeClass(ele,cls){if(hasClass(ele,cls)){var reg=new RegExp("(\\s|^)"+cls+"(\\s|$)");ele.className=ele.className.replace(reg," ")}}function validateForm(doc){var isFormValid=!0;doc.onkeydown=function(event){console.log("event.target : ",event.target),(hasClass(event.target,"required")||hasClass(event.target,"email"))&&removeClass(event.target,"error")};for(var required_items=doc.getElementsByClassName("required"),i=0;i<required_items.length;i++){var requite_item=required_items[i];""===requite_item.value&&(addClass(requite_item,"error"),isFormValid=!1)}for(var email_items=doc.getElementsByClassName("email"),j=0;j<email_items.length;j++){var a=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i),email_item=email_items[j];a.test(email_item.value)||(addClass(email_item,"error"),isFormValid=!1)}return isFormValid}var doc=this.document;doc.getElementById("show_impressum").onclick=function(){doc.getElementById("impressum").style.display="block"},doc.getElementById("submit_contact_form").onclick=function(){if(validateForm(doc)){var name=doc.getElementById("name").value,email=doc.getElementById("email").value,message=doc.getElementById("textarea").value,post_url="http://emzweb.de/message",post_data={name:name,email:email,message:message};if(ajaxFunction(post_url,post_data)){var form_node=doc.getElementById("form");form_node.parentNode.removeChild(form_node);var success_node=doc.getElementsByClassName("success");removeClass(success_node[0],"hide")}}}}(),function(slider){slider.init=function(options){function iterateOverInputs(){for(var i=0;i<inputs.length;i++)if(inputs[i].checked===!0){var slideValue=inputs[i].value-1,src=articles[slideValue].getElementsByTagName("img")[0].getAttribute("src");(null===src||src.indexOf("loader.gif")>0)&&articles[slideValue].getElementsByTagName("img")[0].setAttribute("src",options.images[i]),counted++}}function callIterateOverInputs(){counted<inputs.length&&setTimeout(function(){iterateOverInputs()},1e3)}var targetElement=document.getElementsByClassName("slider")[0],inputs=targetElement.getElementsByTagName("input"),articles=targetElement.getElementsByTagName("article"),controlLabels=targetElement.getElementsByClassName("control-labels"),counted=0;iterateOverInputs(),controlLabels[0].onclick=function(){callIterateOverInputs()},controlLabels[1].onclick=function(){callIterateOverInputs()}}}(window.slider=window.slider||{});